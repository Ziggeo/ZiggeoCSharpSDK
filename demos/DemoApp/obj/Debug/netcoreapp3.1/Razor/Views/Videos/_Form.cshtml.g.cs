#pragma checksum "/Users/rashad/Ziggeo/C#/ZiggeoDemoApp/Views/Videos/_Form.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "36ce723efeed831e2ec8c33d7dbf2c0bf8ef1e6c"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Videos__Form), @"mvc.1.0.view", @"/Views/Videos/_Form.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "/Users/rashad/Ziggeo/C#/ZiggeoDemoApp/Views/_ViewImports.cshtml"
using ZiggeoDemoApp;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/Users/rashad/Ziggeo/C#/ZiggeoDemoApp/Views/_ViewImports.cshtml"
using ZiggeoDemoApp.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"36ce723efeed831e2ec8c33d7dbf2c0bf8ef1e6c", @"/Views/Videos/_Form.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"f3609ada660c874bc551e124bf541e462ab6e0de", @"/Views/_ViewImports.cshtml")]
    public class Views_Videos__Form : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("videos-form"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("form"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("enctype", new global::Microsoft.AspNetCore.Html.HtmlString("multipart/form-data"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("action", new global::Microsoft.AspNetCore.Html.HtmlString("/Videos/Create"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("method", "post", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("onsubmit", new global::Microsoft.AspNetCore.Html.HtmlString("submitAJAX(this);return false;"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral(@"<script>
    let URL = ""/Videos/Create"", videosForm, submitButton;
    let state = {
        isCreating: true,
        key: """",
        tags: """",
        fileSelected: false,
        file: """",
        minDuration: null,
        maxDuration: null,
        volatileVideo: false,
        videoToken: false,
        expirationDays: null,
        expireOn: null
    };
            
    /**
    * Verify on each step
    */
    const verify = () => {
        hideMessage();
        const {fileSelected, isCreating} = state;
        if (fileSelected && isCreating) {
            submitButton.prop(""disabled"", false);
            return true;
        } else {
            showMessage(""Please fill all required fields"", ""danger"");
            submitButton.prop(""disabled"", true);
            return false;
        }
    }
    
    const onInputChangeHandler = (ev) => {
        ev.preventDefault();
        const { name, value } = ev.target;
        state[name] = value;
        
        if (name === 'file') {
            state = {.");
            WriteLiteral(@"..state, fileSelected: value.length > 0};
        }
        verify();
    }
    
    const checkBoxHandler = (ev) => {
        const { name, checked } = ev.target;
        state[name] = checked;
        verify();
    }
             
    window.addEventListener(""load"", (ev) => { 
        submitButton = jQuery(""#submit-button"");
        // submitButton[0].onclick = sendVideosFormData;
    
        const inputElementsSelector = $("".text-input"");
        if (inputElementsSelector)  {
            $.each(inputElementsSelector, (index, element) => {
                element.onkeyup = (ev) => onInputChangeHandler(ev);
            });
        }
        
        const fileElementsSelector = $("".file-input"");
        if (fileElementsSelector)  {
            $.each(fileElementsSelector, (index, element) => {
                element.onchange = (ev) => onInputChangeHandler(ev);
            });
        }
        
        const hiddenInputs = $("".hidden-inputs"");
        if (hiddenInputs) { 
            $.each(hiddenInputs, (");
            WriteLiteral(@"index, element) => {
                const name = $(element).attr(""name"");
                const value = $(element).val();
                if (name && value && typeof state[name] !== 'undefined') {
                    state[name] = value;
                }
            });
        }
    });
</script>

");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "36ce723efeed831e2ec8c33d7dbf2c0bf8ef1e6c7628", async() => {
                WriteLiteral(@"
    
    <div id=""content"" style=""margin-top:15px"">
        <output name=""result""></output>
    </div>
    
    <div id=""spinner-content"" style=""display:none"">
        <div class=""spinner-border"" style=""width: 5rem; height: 5rem;"" role=""status"">
          <span class=""sr-only"">Loading...</span>
        </div>
    </div>
    
    <div id=""form-content"">
        
        <div class=""custom-file row"">
            <label for=""video-file"" class=""col-sm-3 col-form-label"">Video File</label>
            <div class=""col-sm-9"">
                <input
                    id=""video-file""
                    name=""file""
                    type=""file""
                    accept=""video/*""
                    class=""form-control-file form-control file-input""
                />
            </div>
        </div>
        
        <hr class=""col-12"" />
        <div class=""form-group row"">
            <label for=""video-key"" class=""col-sm-3 col-form-label"">Video Key</label>
            <div class=""col-sm-9"">
                <inp");
                WriteLiteral("ut\n                    id=\"video-key\" name=\"key\"\n                    placeholder=\"Video Unique Key per Application (Optional)\"");
                BeginWriteAttribute("value", "\n                    value=\"", 3669, "\"", 3707, 1);
#nullable restore
#line 121 "/Users/rashad/Ziggeo/C#/ZiggeoDemoApp/Views/Videos/_Form.cshtml"
WriteAttributeValue("", 3697, Model.key, 3697, 10, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(@"
                    class=""text-input form-control""
                />
            </div>
        </div>

        <div class=""form-group row"">
            <label for=""video-tags"" class=""col-sm-3 col-form-label"">Video tags</label>
            <div class=""col-sm-9"">
                <input
                    id=""video-tags"" name=""tags""");
                BeginWriteAttribute("value", "\n                    value=\"", 4044, "\"", 4083, 1);
#nullable restore
#line 132 "/Users/rashad/Ziggeo/C#/ZiggeoDemoApp/Views/Videos/_Form.cshtml"
WriteAttributeValue("", 4072, Model.tags, 4072, 11, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(@"
                    class=""text-input form-control"" placeholder=""Video attached tags""
                />
            </div>
        </div>
        
        <div class=""row"">
            <div class=""col-6"">
                <div class=""form-group row"">
                    <label for=""video-minDuration"" class=""col-sm-3 col-form-label"">Minimal duration of video</label>
                    <div class=""col-sm-9"">
                        <input
                            id=""video-minDuration"" name=""minDuration""
                            type=""number""");
                BeginWriteAttribute("value", "\n                            value=\"", 4638, "\"", 4692, 1);
#nullable restore
#line 146 "/Users/rashad/Ziggeo/C#/ZiggeoDemoApp/Views/Videos/_Form.cshtml"
WriteAttributeValue("", 4674, Model.minDuration, 4674, 18, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(@"
                            class=""text-input form-control"" placeholder=""Video allowed min duration""
                        />
                    </div>
                </div>
            </div>
            
            <div class=""col-6"">
                <div class=""form-group row"">
                    <label for=""video-maxDuration"" class=""col-sm-3 col-form-label"">Maximum duration of video</label>
                    <div class=""col-sm-9"">
                        <input
                            id=""video-maxDuration"" name=""maxDuration""
                            type=""number""");
                BeginWriteAttribute("value", "\n                            value=\"", 5283, "\"", 5337, 1);
#nullable restore
#line 160 "/Users/rashad/Ziggeo/C#/ZiggeoDemoApp/Views/Videos/_Form.cshtml"
WriteAttributeValue("", 5319, Model.maxDuration, 5319, 18, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral("\n                            class=\"text-input form-control\" placeholder=\"Video allowed max duration\"\n                        />\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n");
#nullable restore
#line 168 "/Users/rashad/Ziggeo/C#/ZiggeoDemoApp/Views/Videos/_Form.cshtml"
         if (!@Model.isCreate)
        {

#line default
#line hidden
#nullable disable
                WriteLiteral("            <input type=\"hidden\" class=\"hidden-inputs\" name=\"profileToken\"");
                BeginWriteAttribute("value", " value=\"", 5675, "\"", 5700, 1);
#nullable restore
#line 170 "/Users/rashad/Ziggeo/C#/ZiggeoDemoApp/Views/Videos/_Form.cshtml"
WriteAttributeValue("", 5683, Model.videoToken, 5683, 17, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(@" />
            <div class=""row"">
                <div class=""col-6"">
                    <div class=""form-group row"">
                        <label for=""video-expirationDays"" class=""col-sm-3 col-form-label"">
                            After how many days will this video be deleted
                        </label>
                        <div class=""col-sm-9"">
                            <input
                                id=""video-expirationDays"" name=""expirationDays""
                                type=""number""");
                BeginWriteAttribute("value", "\n                                value=\"", 6226, "\"", 6287, 1);
#nullable restore
#line 181 "/Users/rashad/Ziggeo/C#/ZiggeoDemoApp/Views/Videos/_Form.cshtml"
WriteAttributeValue("", 6266, Model.expirationDays, 6266, 21, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(@"
                                class=""text-input form-control"" placeholder=""Video allowed min duration""
                            />
                        </div>
                    </div>
                </div>
                
                <div class=""col-6"">
                    <div class=""form-group row"">
                        <label for=""video-expireOn"" class=""col-sm-3 col-form-label"">
                            On which date will this video be deleted. String in ISO 8601 format: YYYY-MM-DD
                        </label>
                        <div class=""col-sm-9"">
                            <input
                                id=""video-expireOn""
                                name=""expireOn""
                                type=""number""");
                BeginWriteAttribute("value", "\n                                value=\"", 7061, "\"", 7116, 1);
#nullable restore
#line 198 "/Users/rashad/Ziggeo/C#/ZiggeoDemoApp/Views/Videos/_Form.cshtml"
WriteAttributeValue("", 7101, Model.expireOn, 7101, 15, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral("\n                                class=\"text-input form-control\" placeholder=\"Video allowed max duration\"\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n");
#nullable restore
#line 205 "/Users/rashad/Ziggeo/C#/ZiggeoDemoApp/Views/Videos/_Form.cshtml"
        }

#line default
#line hidden
#nullable disable
                WriteLiteral(@"        
        <div class=""form-group"">
            <div class=""form-check"">
                <input
                    id=""is-volatile"" type=""checkbox""
                    class=""checkbox-input form-check-input""
                    name=""volatileVideo""
                />
                <label for=""is-volatile"" class=""form-check-label"">Will be volatile ?</label>
            </div>
        </div>
        
        <div>
");
#nullable restore
#line 219 "/Users/rashad/Ziggeo/C#/ZiggeoDemoApp/Views/Videos/_Form.cshtml"
             if (@Model.isCreate)
            {

#line default
#line hidden
#nullable disable
                WriteLiteral("                <button\n                    id=\"submit-button\"\n                    class=\"btn btn-success\"\n                    type=\"submit\"\n                > Create Video </button>\n");
#nullable restore
#line 226 "/Users/rashad/Ziggeo/C#/ZiggeoDemoApp/Views/Videos/_Form.cshtml"
            }
            else
            {

#line default
#line hidden
#nullable disable
                WriteLiteral("                <button\n                    id=\"submit-button\" \n                    type=\"submit\"\n                    class=\"btn btn-success\"\n                    disabled\n                > Update Video </button>\n");
#nullable restore
#line 235 "/Users/rashad/Ziggeo/C#/ZiggeoDemoApp/Views/Videos/_Form.cshtml"
            }

#line default
#line hidden
#nullable disable
                WriteLiteral("        </div>\n    </div>\n");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper.Method = (string)__tagHelperAttribute_4.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_4);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_5);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"

<script>
    const submitAJAX = async (oFormElement) => {  
        const loader = jQuery(""#spinner-content"");
        const content = jQuery(""#form-content"");
        const respContent = jQuery(""#content"");
        hideMessage();
        loader.show();
        content.hide();
        resultElement = oFormElement.elements.namedItem(""result"");
        const formData = new FormData(oFormElement);
        
        try {
            const response = await fetch(oFormElement.action, {
              method: 'POST',
              body: formData
            });
            
            if (response.ok) {
                loader.hide();
                const _resp = await response.json();
                const {success, message, token, embedImage, embedVideo} = _resp;
                console.log('responseText ', success, message, token, embedImage, embedVideo);
                if (Boolean(success) && embedImage) {            
                    showMessage(message);
                    const image = new Image();
   ");
            WriteLiteral(@"                 image.src = embedImage;
                    image.onload = function () {
                        respContent.append(image);
                    }
                    resultElement.value = 'Result: Token: ' + token;
                } else {
                    content.show();
                    showMessage(message, ""danger"");
                }
            } else {
                loader.hide();
                content.show();
                showMessage('We got server NOT OK response !!!', ""danger"");
            } 
        } catch (error) {
            loader.hide();
            content.show();
            showMessage(JSON.stringify(error), ""danger"");
        }
    }
</script>
");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
